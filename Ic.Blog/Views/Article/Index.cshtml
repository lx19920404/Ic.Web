@{
    ViewData["Title"] = ViewData["BlogName"] + "---iCyrene的个人博客";
    @using Westwind.AspNetCore.Markdown;
}

<article class="markdown-body" id="mainContent1">
    <h1 class="display-4">@ViewData["BlogName"]</h1>
    @*<p>@ViewData["Content"]<a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>*@
    @Markdown.ParseHtmlStringFromFile(@"/md/" + ViewData["BlogName"] + ".md")
</article>


@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet" />
    <script>
        setTimeout(function () {
            var pres = document.querySelectorAll("pre>code");
            for (var i = 0; i < pres.length; i++) {
                hljs.highlightBlock(pres[i]);
            }
        });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML-full"></script>
    <script type="text/javascript">
        let isMathjaxConfig = false; // 防止重复调用Config，造成性能损耗

        const initMathjaxConfig = () => {
            if (!window.MathJax) {
                return;
            }
            window.MathJax.Hub.Config({
                showProcessingMessages: false, //关闭js加载过程信息
                messageStyle: "none", //不显示信息
                jax: ["input/TeX", "output/HTML-CSS"],
                tex2jax: {
                    inlineMath: [["$", "$"], ["\\(", "\\)"]], //行内公式选择符
                    displayMath: [["$$", "$$"], ["\\[", "\\]"]], //段内公式选择符
                    skipTags: ["script", "noscript", "style", "textarea", "pre", "code", "a"] //避开某些标签
                },
                "HTML-CSS": {
                    availableFonts: ["STIX", "TeX"], //可选字体
                    showMathMenu: false //关闭右击菜单显示
                }
            });
            isMathjaxConfig = true; //
        };

        if (isMathjaxConfig === false) { // 如果：没有配置MathJax
            initMathjaxConfig();
        }

        // 如果，不传入第三个参数，则渲染整个document
        // 因为使用的Vuejs，所以指明#app，以提高速度
        window.MathJax.Hub.Queue(["Typeset", MathJax.Hub, document.getElementById('article')]);
    </script>
}